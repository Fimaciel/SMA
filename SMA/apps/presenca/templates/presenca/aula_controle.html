{% extends 'base.html' %}
{% load bootstrap5 %}

{% block title %}Controle de Aula{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3 mb-0 text-gray-800">Controle de Aula</h1>
</div>

<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Iniciar/Finalizar Aula</h6>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="inputAulaNome" class="form-label">Nome da Aula</label>
                <input type="text" class="form-control" id="inputAulaNome" placeholder="Ex: Matemática - Turma A">
            </div>
            <div class="col-md-3 mb-3 d-grid">
                <button class="btn btn-success btn-lg" id="btnIniciarAula">
                    <i class="fas fa-play"></i> Iniciar Aula
                </button>
            </div>
            <div class="col-md-3 mb-3 d-grid">
                <button class="btn btn-danger btn-lg" id="btnFinalizarAula" disabled>
                    <i class="fas fa-stop"></i> Finalizar Aula
                </button>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-md-12 text-center">
                <h4 class="mb-0">Duração da Aula: <span id="aulaTimer">00:00:00</span></h4>
            </div>
        </div>
    </div>
</div>

<div class="card shadow mb-4 mt-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Monitor de Presença em Tempo Real</h6>
    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Aluno</th>
                        <th>Status</th>
                        <th>Hora Entrada</th>
                        <th>Tempo na Aula</th>
                    </tr>
                </thead>
                <tbody id="monitorTableBody">
                    <tr>
                        <td>Ralph Edwards</td>
                        <td><span class="badge bg-success">Presente</span></td>
                        <td>10:00:15</td>
                        <td>00:30:00</td>
                    </tr>
                    <tr>
                        <td>Annette Black</td>
                        <td><span class="badge bg-danger">Saiu</span></td>
                        <td>10:05:30</td>
                        <td>00:15:00</td>
                    </tr>
                    <tr>
                        <td>Robert Fox</td>
                        <td><span class="badge bg-success">Presente</span></td>
                        <td>10:07:00</td>
                        <td>00:23:00</td>
                    </tr>
                    <tr>
                        <td>Eleanor Pena</td>
                        <td><span class="badge bg-success">Presente</span></td>
                        <td>10:08:45</td>
                        <td>00:21:00</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p class="mt-3 text-muted">A simulação de movimento de alunos está ativa (5% chance de entrada, 2% de saída por segundo).</p>
    </div>
</div>

{% endblock %}
